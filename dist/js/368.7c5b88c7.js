"use strict";(self["webpackChunkplatform_monitors4"]=self["webpackChunkplatform_monitors4"]||[]).push([[368],{6418:function(e,t,a){a.d(t,{Cf:function(){return r},E4:function(){return u},mU:function(){return i},nl:function(){return o}});var l=a(1076);const n="http://67.205.164.216:3000/api/v1";function o(e){return l.Z.post(`${n}/allResponses`,{cod_cliente:e})}function i(e){return l.Z.post(`${n}/createResponse`,e)}function r(e){return l.Z.put(`${n}/editResponse`,e)}function u(e){return l.Z.post(`${n}/deleteResponse`,e)}},3512:function(e,t,a){a.d(t,{M:function(){return i},y:function(){return o}});var l=a(2492),n=a.n(l);function o(e,t,a,l){n().fire({icon:t,html:`<p class="text-lg font-semibold">${a}</p>\n          <p class="text-base">${l}</p>`,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#006cac",reverseButtons:!0}).then((t=>{t.isConfirmed&&e()}))}function i(e,t,a){n().fire({icon:"question",html:`<p class="text-lg">${t}</p>`,showCancelButton:!0,reverseButtons:!0,confirmButtonText:a,confirmButtonColor:"#3b82f6",cancelButtonText:"Cancelar"}).then((t=>{t.isConfirmed&&e()}))}},6528:function(e,t,a){a.r(t),a.d(t,{default:function(){return G}});var l=a(3396);const n={class:"flex justify-between w-full"},o=(0,l._)("div",null,[(0,l._)("h1",{class:"font-bold text-xl title_poppins pb-5"},"Respuestas predefinidas")],-1);function i(e,t,a,i,r,u){const s=(0,l.up)("CreateAnswersVue"),c=(0,l.up)("TableAnswersVue"),d=(0,l.up)("EditAnswersVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l._)("div",n,[o,(0,l.Wm)(s,{onCreateItem:i.onCreateItem},null,8,["onCreateItem"])]),(0,l.Wm)(c,{desserts:i.listAnswersData,onDeleteItem:i.onDeleteItem,onEditItem:i.onEditItem},null,8,["desserts","onDeleteItem","onEditItem"])]),(0,l.Wm)(d,{openModal:i.editDialog,itemEdit:i.editItem,onCancelItem:t[0]||(t[0]=e=>i.editDialog=!1),onEditItem:i.onUpdateItem},null,8,["openModal","itemEdit","onEditItem"])],64)}var r=a(6418),u=a(7312),s=a(678);const c={class:"flex gap-1 justify-center"},d=["onClick"],m=["onClick"];function p(e,t,a,n,o,i){const r=(0,l.up)("v-data-table");return(0,l.wg)(),(0,l.j4)(r,{headers:o.headers,items:a.desserts,class:"elevation-1 text-sm rounded-lg"},{["item.actions"]:(0,l.w5)((({item:e})=>[(0,l._)("div",c,[(0,l._)("span",{onClick:t=>n.editItem(e)},[(0,l.Wm)(u.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,l.Wm)(s.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Editar")])),_:1})],8,d),(0,l._)("span",{onClick:t=>n.deleteItem(e)},[(0,l.Wm)(u.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,l.Wm)(s.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Eliminar")])),_:1})],8,m)])])),_:2},1032,["headers","items"])}var f=a(5470),v={props:{desserts:Array},components:{VDataTable:f.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"Código",align:"start",key:"codigo"},{title:"Sigla",align:"start",key:"sigla"},{title:"Texto",align:"start",key:"text"},{title:"Acción",key:"actions",align:"center"}]}},setup(e,{emit:t}){const a=e=>{t("edit-item",{item:e})},l=e=>{t("delete-item",{item:e})};return{editItem:a,deleteItem:l}}},g=a(89);const x=(0,g.Z)(v,[["render",p]]);var w=x,h=a(5039),_=a(1888),y=a(1334),b=a(3601),C=a(8521),V=a(9234),k=a(3289),W=a(165),I=a(4842),H=a(1328);const A=(0,l._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Crear respuesta predefinida",-1);function E(e,t,a,n,o,i){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(u.T,{size:"small",color:"blue",onClick:t[0]||(t[0]=e=>n.dialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(k.t,{icon:"mdi-plus"}),(0,l.Uk)(" Crear Nuevo")])),_:1}),(0,l.Wm)(b.B,{modelValue:n.dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>n.dialog=e),width:"500"},{default:(0,l.w5)((()=>[(0,l.Wm)(h._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(H.i,null,{default:(0,l.w5)((()=>[A])),_:1}),(0,l.Wm)(_.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(W.h,{variant:"outlined",label:"Sigla","prepend-inner-icon":"mdi-alphabetical-variant",color:"indigo",modelValue:n.sigla,"onUpdate:modelValue":t[1]||(t[1]=e=>n.sigla=e)},null,8,["modelValue"]),(0,l.Wm)(I.z,{variant:"outlined",label:"Texto","prepend-inner-icon":"mdi-text-box-check-outline",color:"indigo",modelValue:n.text,"onUpdate:modelValue":t[2]||(t[2]=e=>n.text=e),rows:"3"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(y.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(V.C),(0,l.Wm)(u.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[3]||(t[3]=e=>n.dialog=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancelar ")])),_:1}),(0,l.Wm)(u.T,{color:"blue-lighten-1",variant:"tonal",onClick:n.createItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var U=a(4870),B=a(4239),Z={emits:["create-item"],setup(e,{emit:t}){const a=(0,U.iH)(!1),l=(0,U.iH)(""),n=(0,U.iH)(""),o=()=>{t("create-item",{cod_cuenta:B.Z.state.codcuenta,cod_cliente:B.Z.state.codclienteAdmin,sigla:l.value,text:n.value}),l.value=n.value="",a.value=!1};return{dialog:a,sigla:l,text:n,createItem:o}}};const F=(0,g.Z)(Z,[["render",E]]);var T=F;const S=(0,l._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Editar respuesta predefinida",-1);function D(e,t,a,n,o,i){return(0,l.wg)(),(0,l.j4)(b.B,{modelValue:n.dialog,"onUpdate:modelValue":t[3]||(t[3]=e=>n.dialog=e),width:"500","onClick:outside":n.cancelItem},{default:(0,l.w5)((()=>[(0,l.Wm)(h._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(H.i,null,{default:(0,l.w5)((()=>[S])),_:1}),(0,l.Wm)(_.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(W.h,{variant:"outlined",label:"Sigla","prepend-inner-icon":"mdi-alphabetical-variant",color:"indigo",modelValue:n.sigla,"onUpdate:modelValue":t[0]||(t[0]=e=>n.sigla=e)},null,8,["modelValue"]),(0,l.Wm)(I.z,{variant:"outlined",label:"Texto","prepend-inner-icon":"mdi-text-box-check-outline",color:"indigo",modelValue:n.text,"onUpdate:modelValue":t[1]||(t[1]=e=>n.text=e),rows:"3"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(y.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(V.C),(0,l.Wm)(u.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[2]||(t[2]=e=>n.dialog=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancelar ")])),_:1}),(0,l.Wm)(u.T,{color:"blue-lighten-1",variant:"tonal",onClick:n.editItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])}var P={props:{itemEdit:Object,openModal:Boolean},emits:["edit-item","cancel-item"],setup(e,{emit:t}){const a=(0,U.iH)(!1),n=(0,U.iH)(""),o=(0,U.iH)("");(0,l.YP)((()=>e.openModal),(e=>{a.value=e})),(0,l.YP)((()=>e.itemEdit),(e=>{0!==Object.keys(e).length&&(n.value=e.item.sigla,o.value=e.item.text)}));const i=()=>{t("edit-item",{cod_cuenta:B.Z.state.codcuenta,cod_cliente:B.Z.state.codclienteAdmin,codigo:e.itemEdit.item.codigo,sigla:n.value,text:o.value}),n.value=o.value="",r()},r=()=>{t("cancel-item")};return{dialog:a,sigla:n,text:o,editItem:i,cancelItem:r}}};const Y=(0,g.Z)(P,[["render",D]]);var z=Y,N=a(3512),R={components:{TableAnswersVue:w,CreateAnswersVue:T,EditAnswersVue:z},setup(){const e=(0,U.iH)([]),t=(0,U.iH)({}),a=(0,U.iH)(!1);(0,l.bv)((async()=>{await n()}));const n=async()=>{(0,r.nl)(B.Z.state.codclienteAdmin).then((t=>{e.value=t.data.data[0].respuestas}))},o=e=>{""!=e.sigla&&""!=e.text?(0,r.mU)(e).then((()=>{(0,N.y)((async()=>{await n()}),"success","Logrado","Se ha creado la respuesta predefinida correctamente")})).catch((()=>{(0,N.y)((()=>{}),"error","Hubo un error","No se logro crear el evento")})):(0,N.y)((()=>{}),"warning","Advertencia","Rellene todos los campos")},i=e=>{const t={codigo:e.item.codigo,cod_cuenta:B.Z.state.codcuenta,cod_cliente:B.Z.state.codclienteAdmin};(0,N.M)((async()=>{await(0,r.E4)(t).then((()=>{(0,N.y)((async()=>{await n()}),"success","Logrado","Se ha eliminado la respuesta predefinida correctamente")})).catch((e=>{console.log(e),(0,N.y)((()=>{}),"error","Hubo un error","No se logro eliminar")}))}),"¿Estás seguro de eliminar esta respuesta predefinida?","Aceptar")},u=e=>{t.value=e,a.value=!0},s=e=>{(0,r.Cf)(e).then((()=>{(0,N.y)((async()=>{await n()}),"success","Logrado","Se ha editado la respuesta predefinida correctamente")})).catch((()=>{(0,N.y)((()=>{}),"error","Hubo un error","No se logro editar la respuesta predifinida")}))};return{listAnswersData:e,editDialog:a,editItem:t,onUpdateItem:s,onDeleteItem:i,onCreateItem:o,onEditItem:u}}};const M=(0,g.Z)(R,[["render",i]]);var G=M},4842:function(e,t,a){a.d(t,{z:function(){return w}});var l=a(3396),n=a(9242),o=(a(348),a(2816)),i=a(7173),r=a(9114),u=a(8969),s=a(3185),c=a(8717),d=a(7052),m=a(4870),p=a(3766),f=a(1107),v=a(131),g=a(9888);const x=(0,p.U)({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...(0,r.c)(),...(0,i.hy)()},"VTextarea"),w=(0,f.ev)()({name:"VTextarea",directives:{Intersect:d.Z},inheritAttrs:!1,props:x(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,t){let{attrs:a,emit:d,slots:p}=t;const f=(0,c.z)(e,"modelValue"),{isFocused:x,focus:w,blur:h}=(0,u.K)(e),_=(0,l.Fl)((()=>"function"===typeof e.counterValue?e.counterValue(f.value):(f.value||"").toString().length)),y=(0,l.Fl)((()=>a.maxlength?a.maxlength:!e.counter||"number"!==typeof e.counter&&"string"!==typeof e.counter?void 0:e.counter));function b(t,a){e.autofocus&&t&&a[0].target?.focus?.()}const C=(0,m.iH)(),V=(0,m.iH)(),k=(0,m.XI)(""),W=(0,m.iH)(),I=(0,l.Fl)((()=>e.persistentPlaceholder||x.value||e.active));function H(){W.value!==document.activeElement&&W.value?.focus(),x.value||w()}function A(e){H(),d("click:control",e)}function E(e){d("mousedown:control",e)}function U(t){t.stopPropagation(),H(),(0,l.Y3)((()=>{f.value="",(0,v.dr)(e["onClick:clear"],t)}))}function B(t){const a=t.target;if(f.value=a.value,e.modelModifiers?.trim){const e=[a.selectionStart,a.selectionEnd];(0,l.Y3)((()=>{a.selectionStart=e[0],a.selectionEnd=e[1]}))}}const Z=(0,m.iH)(),F=(0,m.iH)(+e.rows),T=(0,l.Fl)((()=>["plain","underlined"].includes(e.variant)));function S(){e.autoGrow&&(0,l.Y3)((()=>{if(!Z.value||!V.value)return;const t=getComputedStyle(Z.value),a=getComputedStyle(V.value.$el),l=parseFloat(t.getPropertyValue("--v-field-padding-top"))+parseFloat(t.getPropertyValue("--v-input-padding-top"))+parseFloat(t.getPropertyValue("--v-field-padding-bottom")),n=Z.value.scrollHeight,o=parseFloat(t.lineHeight),i=Math.max(parseFloat(e.rows)*o+l,parseFloat(a.getPropertyValue("--v-input-control-height"))),r=parseFloat(e.maxRows)*o+l||1/0,u=(0,v.uZ)(n??0,i,r);F.value=Math.floor((u-l)/o),k.value=(0,v.kb)(u)}))}let D;return(0,l.m0)((()=>{e.autoGrow||(F.value=+e.rows)})),(0,l.bv)(S),(0,l.YP)(f,S),(0,l.YP)((()=>e.rows),S),(0,l.YP)((()=>e.maxRows),S),(0,l.YP)((()=>e.density),S),(0,l.YP)(Z,(e=>{e?(D=new ResizeObserver(S),D.observe(Z.value)):D?.disconnect()})),(0,l.Jd)((()=>{D?.disconnect()})),(0,g.L)((()=>{const t=!!(p.counter||e.counter||e.counterValue),u=!(!t&&!p.details),[s,c]=(0,v.An)(a),[{modelValue:d,...m}]=r.q.filterProps(e),[g]=(0,i.g8)(e);return(0,l.Wm)(r.q,(0,l.dG)({ref:C,modelValue:f.value,"onUpdate:modelValue":e=>f.value=e,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-text-field--plain-underlined":T.value},e.class],style:e.style},s,m,{centerAffix:1===F.value&&!T.value,focused:x.value}),{...p,default:t=>{let{isDisabled:a,isDirty:o,isReadonly:r,isValid:u}=t;return(0,l.Wm)(i.hF,(0,l.dG)({ref:V,style:{"--v-textarea-control-height":k.value},onClick:A,onMousedown:E,"onClick:clear":U,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},g,{active:I.value||o.value,centerAffix:1===F.value&&!T.value,dirty:o.value||e.dirty,disabled:a.value,focused:x.value,error:!1===u.value}),{...p,default:t=>{let{props:{class:o,...i}}=t;return(0,l.Wm)(l.HY,null,[e.prefix&&(0,l.Wm)("span",{class:"v-text-field__prefix"},[e.prefix]),(0,l.wy)((0,l.Wm)("textarea",(0,l.dG)({ref:W,class:o,value:f.value,onInput:B,autofocus:e.autofocus,readonly:r.value,disabled:a.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:H,onBlur:h},i,c),null),[[(0,l.Q2)("intersect"),{handler:b},null,{once:!0}]]),e.autoGrow&&(0,l.wy)((0,l.Wm)("textarea",{class:[o,"v-textarea__sizer"],id:`${i.id}-sizer`,"onUpdate:modelValue":e=>f.value=e,ref:Z,readonly:!0,"aria-hidden":"true"},null),[[n.nr,f.value]]),e.suffix&&(0,l.Wm)("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:u?a=>(0,l.Wm)(l.HY,null,[p.details?.(a),t&&(0,l.Wm)(l.HY,null,[(0,l.Wm)("span",null,null),(0,l.Wm)(o._,{active:e.persistentCounter||x.value,value:_.value,max:y.value},p.counter)])]):void 0})})),(0,s.F)({},C,V,W)}})}}]);
//# sourceMappingURL=368.7c5b88c7.js.map