{"version":3,"file":"js/809.40268797.js","mappings":"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","sources":["webpack://platform_monitors4/./src/views/RulesView.vue","webpack://platform_monitors4/./src/api/RulesService.js","webpack://platform_monitors4/./src/views/RulesView.vue?0567"],"sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"flex justify-between w-full\">\r\n            <div>\r\n                <h1 class=\"font-bold text-xl title_poppins pb-5\">Reglas</h1>\r\n            </div>\r\n            <CreateAnswersVue @create-item=\"onCreateItem\" />\r\n        </div>\r\n        <div class=\"w-full rounded-lg bg-white gap-3 p-4 shadow-md\">\r\n            <div class=\"w-full bg-orange-400 text-white rounded-lg p-3\">\r\n                Regla 1\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <EditAnswersVue :openModal=\"editDialog\" :itemEdit=\"editItem\" @cancel-item=\"editDialog = false\"\r\n        @edit-item=\"onUpdateItem\" />\r\n</template>\r\n<script>\r\nimport { findAllRulesApi, createAnswersApi, updateAnswersApi, deleteAnswersApi } from '@/api/RulesService';\r\nimport CreateAnswersVue from '@/components/answers/CreateAnswers.vue';\r\nimport EditAnswersVue from '@/components/answers/EditAnswers.vue';\r\nimport { basicAlert, confirmBasic } from '@/helpers/SweetAlert';\r\nimport { onMounted, ref } from \"vue\";\r\nimport store from '@/store';\r\n\r\n\r\nexport default ({\r\n    components: {\r\n        CreateAnswersVue,\r\n        EditAnswersVue\r\n    },\r\n    setup() {\r\n        const listAnswersData = ref([]);\r\n        const editItem = ref({});\r\n        const editDialog = ref(false);\r\n\r\n        onMounted(async () => {\r\n            await loadData();\r\n        })\r\n\r\n        const loadData = async () => {\r\n            findAllRulesApi(store.state.codcuenta, store.state.codcliente)\r\n                .then(response => {\r\n                    listAnswersData.value = response.data.data[0].respuestas\r\n                })\r\n        }\r\n\r\n        const onCreateItem = (data) => {\r\n            if (data.sigla != \"\" && data.text != \"\") {\r\n                createAnswersApi(data)\r\n                    .then(() => {\r\n                        basicAlert(async () => {\r\n                            await loadData();\r\n                        }, 'success', 'Logrado', 'Se ha creado la respuesta predefinida correctamente')\r\n                    })\r\n                    .catch(() => {\r\n                        basicAlert(() => { }, 'error', 'Hubo un error', 'No se logro crear el evento')\r\n                    })\r\n            } else {\r\n                basicAlert(() => { }, 'warning', 'Advertencia', 'Rellene todos los campos')\r\n            }\r\n        }\r\n\r\n        const onDeleteItem = (item) => {\r\n            const data = {\r\n                \"codigo\": item.item.codigo,\r\n                \"cod_cuenta\": store.state.codcuenta,\r\n                \"cod_cliente\": store.state.codcliente\r\n            }\r\n            confirmBasic(async () => {\r\n                await deleteAnswersApi(data)\r\n                    .then(() => {\r\n                        basicAlert(async () => {\r\n                            await loadData();\r\n                        }, 'success', 'Logrado', 'Se ha eliminado la respuesta predefinida correctamente')\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error)\r\n                        basicAlert(() => { }, 'error', 'Hubo un error', 'No se logro eliminar')\r\n                    })\r\n            }, '¿Estás seguro de eliminar esta respuesta predefinida?', 'Aceptar');\r\n        }\r\n\r\n        const onEditItem = (data) => {\r\n            editItem.value = data\r\n            editDialog.value = true\r\n        }\r\n\r\n        const onUpdateItem = (data) => {\r\n            updateAnswersApi(data)\r\n                .then(() => {\r\n                    basicAlert(async () => {\r\n                        await loadData();\r\n                    }, 'success', 'Logrado', 'Se ha editado la respuesta predefinida correctamente')\r\n                })\r\n                .catch(() => {\r\n                    basicAlert(() => { }, 'error', 'Hubo un error', 'No se logro editar la respuesta predifinida')\r\n                })\r\n        }\r\n\r\n        return {\r\n            listAnswersData,\r\n            editDialog,\r\n            editItem,\r\n            onUpdateItem,\r\n            onDeleteItem,\r\n            onCreateItem,\r\n            onEditItem\r\n        }\r\n    }\r\n})\r\n</script>","import axios from 'axios';\r\n\r\nconst baseURL = process.env.VUE_APP_BASE_URL;\r\n\r\nexport function findAllRulesApi(cod_cuenta, cod_cliente) {\r\n    return axios.post(`${baseURL}/allRoules`,\r\n        {\r\n            cod_cuenta,\r\n            cod_cliente\r\n        })\r\n}\r\n\r\nexport function createAnswersApi(data) {\r\n    return axios.post(`${baseURL}/createResponse`, data)\r\n}\r\n\r\nexport function updateAnswersApi(data) {\r\n    return axios.put(`${baseURL}/editResponse`, data)\r\n}\r\n\r\nexport function deleteAnswersApi(data) {\r\n    return axios.post(`${baseURL}/deleteResponse`, data)\r\n}","import { render } from \"./RulesView.vue?vue&type=template&id=e094d694\"\nimport script from \"./RulesView.vue?vue&type=script&lang=js\"\nexport * from \"./RulesView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_1","_hoisted_2","_createVNode","_component_CreateAnswersVue","onCreateItem","$setup","_hoisted_3","_component_EditAnswersVue","openModal","editDialog","itemEdit","editItem","onCancelItem","_cache","$event","onEditItem","onUpdateItem","baseURL","process","findAllRulesApi","cod_cuenta","cod_cliente","axios","post","createAnswersApi","data","updateAnswersApi","put","deleteAnswersApi","components","CreateAnswersVue","EditAnswersVue","setup","listAnswersData","ref","onMounted","async","loadData","store","state","codcuenta","codcliente","then","response","value","respuestas","sigla","text","basicAlert","catch","onDeleteItem","item","codigo","confirmBasic","error","console","log","__exports__","render"],"sourceRoot":""}