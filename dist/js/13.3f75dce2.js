"use strict";(self["webpackChunkplatform_monitors4"]=self["webpackChunkplatform_monitors4"]||[]).push([[13],{6365:function(e,t,n){n.d(t,{$:function(){return i},K:function(){return o}});var l=n(1076);const a="http://67.205.164.216:3000/api/v1";function i(e){return l.Z.post(`${a}/listAccounts`,{cod_cuenta:e})}function o(e,t){return l.Z.post(`${a}/listClients`,{cod_cuenta:e,empresa:t})}},8830:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var l=n(3396);const a={class:"flex justify-between w-full"},i=(0,l._)("div",null,[(0,l._)("h1",{class:"font-bold text-xl title_poppins pb-5"},"Administrar usuarios")],-1);function o(e,t,n,o,r,s){const d=(0,l.up)("CreateUsersVue"),u=(0,l.up)("TableUsersVue");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",a,[i,(0,l.Wm)(d)]),(0,l.Wm)(u,{desserts:o.dataUsers},null,8,["desserts"])])}var r=n(6365),s=n(4870),d=n(4239),u=n(7139),c=n(7312),m=n(7103),p=n(678);const v={class:"flex gap-1 justify-center"},f=["onClick"],g=["onClick"];function b(e,t,n,a,i,o){const r=(0,l.up)("v-data-table");return(0,l.wg)(),(0,l.j4)(r,{headers:i.headers,items:n.desserts,class:"elevation-1 text-sm rounded-lg"},{["item.estado"]:(0,l.w5)((({item:e})=>[(0,l.Wm)(m.v,{color:e.estado?"green":"red"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,u.zw)(e.estado?"Activo":"Desactivado"),1)])),_:2},1032,["color"])])),["item.actions"]:(0,l.w5)((({item:e})=>[(0,l._)("div",v,[(0,l._)("span",{onClick:t=>a.editItem(e)},[(0,l.Wm)(c.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,l.Wm)(p.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Editar")])),_:1})],8,f),(0,l._)("span",{onClick:t=>a.deleteItem(e)},[(0,l.Wm)(c.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,l.Wm)(p.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Eliminar")])),_:1})],8,g)])])),_:2},1032,["headers","items"])}var w=n(5470),k={props:{desserts:Array},components:{VDataTable:w.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"Usuario",align:"start",key:"usuario"},{title:"Nombre",align:"start",key:"nombre_completo"},{title:"Turno",align:"start",key:"turno"},{title:"Rol",align:"start",key:"rol"},{title:"Estado",align:"center",key:"estado"},{title:"Acciones",key:"actions",align:"center"}]}},setup(e,{emit:t}){const n=e=>{t("edit-item",{item:e})},l=e=>{t("delete-item",{item:e})};return{editItem:n,deleteItem:l}}},_=n(89);const V=(0,_.Z)(k,[["render",b]]);var y=V,W=n(5039),h=n(1888),U=n(1334),C=n(3601),x=n(8521),T=n(9234),I=n(3289),H=n(240),A=n(165),Z=n(1328);const F=(0,l._)("span",{class:"px-4 w-full text-center text-indigo-500 font-bold title_views"},"Crear nuevo usuario",-1);function N(e,t,n,a,i,o){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(c.T,{size:"small",color:"blue",onClick:t[0]||(t[0]=e=>a.dialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(I.t,{icon:"mdi-plus"}),(0,l.Uk)(" Crear Nuevo")])),_:1}),(0,l.Wm)(C.B,{modelValue:a.dialog,"onUpdate:modelValue":t[9]||(t[9]=e=>a.dialog=e),width:"500"},{default:(0,l.w5)((()=>[(0,l.Wm)(W._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(Z.i,null,{default:(0,l.w5)((()=>[F])),_:1}),(0,l.Wm)(h.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(x.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(A.h,{variant:"outlined",label:"Nombre","prepend-inner-icon":"mdi-text-account",color:"indigo",modelValue:a.name,"onUpdate:modelValue":t[1]||(t[1]=e=>a.name=e)},null,8,["modelValue"]),(0,l.Wm)(A.h,{variant:"outlined",label:"Usuario","prepend-inner-icon":"mdi-clipboard-account",color:"indigo",modelValue:e.username,"onUpdate:modelValue":t[2]||(t[2]=t=>e.username=t)},null,8,["modelValue"]),(0,l.Wm)(H.rL,{"prepend-inner-icon":"mdi-shield-account",label:"Rol",items:["Operador","Supervisor"],variant:"outlined",class:"col-span-2",color:"indigo",modelValue:e.state,"onUpdate:modelValue":t[3]||(t[3]=t=>e.state=t)},null,8,["modelValue"]),(0,l.Wm)(A.h,{color:"indigo","append-inner-icon":a.visible?"mdi-eye-off":"mdi-eye",type:a.visible?"text":"password",label:"Ingrese su contraseña","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":t[4]||(t[4]=e=>a.visible=!a.visible),modelValue:e.password,"onUpdate:modelValue":t[5]||(t[5]=t=>e.password=t)},null,8,["append-inner-icon","type","modelValue"]),(0,l.Wm)(A.h,{color:"indigo","append-inner-icon":a.visible2?"mdi-eye-off":"mdi-eye",type:a.visible2?"text":"password",label:"Repetir contraseña","prepend-inner-icon":"mdi-lock-outline",variant:"outlined","onClick:appendInner":t[6]||(t[6]=e=>a.visible2=!a.visible),modelValue:e.passwordRepeat,"onUpdate:modelValue":t[7]||(t[7]=t=>e.passwordRepeat=t)},null,8,["append-inner-icon","type","modelValue"])])),_:1})])),_:1}),(0,l.Wm)(U.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(T.C),(0,l.Wm)(c.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[8]||(t[8]=e=>a.dialog=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancelar ")])),_:1}),(0,l.Wm)(c.T,{color:"blue-lighten-1",variant:"tonal",onClick:a.createItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var S={emits:["create-item"],setup(e,{emit:t}){const n=(0,s.iH)(!1),l=(0,s.iH)(""),a=(0,s.iH)(""),i=(0,s.iH)(!1),o=(0,s.iH)(!1),r=()=>{t("create-item",{name:l.value,direction:a.value}),l.value=a.value="",n.value=!1};return{visible:i,visible2:o,dialog:n,name:l,direction:a,createItem:r}}};const z=(0,_.Z)(S,[["render",N]]);var D=z,R={components:{TableUsersVue:y,CreateUsersVue:D},setup(){const e=(0,s.iH)([]);return(0,l.bv)((()=>{(0,r.$)(d.Z.state.codcuenta).then((t=>{const n=t.data.data[0].clientes?t.data.data[0].clientes:[];e.value=n.filter((e=>e.empresa==d.Z.state.empresa&&"Administrador"!=e.rol))}))})),{dataUsers:e}}};const $=(0,_.Z)(R,[["render",o]]);var E=$},678:function(e,t,n){n.d(t,{N:function(){return f}});var l=n(3396),a=n(5164),i=n(3185),o=n(8717),r=n(5975),s=n(4870),d=n(3766),u=n(131),c=n(1107),m=n(7514),p=n(9888);const v=(0,d.U)({id:String,text:String,...(0,u.CE)((0,a.B)({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),f=(0,c.ev)()({name:"VTooltip",props:v(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const d=(0,o.z)(e,"modelValue"),{scopeId:u}=(0,r.a)(),c=(0,m.sq)(),v=(0,l.Fl)((()=>e.id||`v-tooltip-${c}`)),f=(0,s.iH)(),g=(0,l.Fl)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),b=(0,l.Fl)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),w=(0,l.Fl)((()=>e.transition?e.transition:d.value?"scale-transition":"fade-transition")),k=(0,l.Fl)((()=>(0,l.dG)({"aria-describedby":v.value},e.activatorProps)));return(0,p.L)((()=>{const[t]=a.y.filterProps(e);return(0,l.Wm)(a.y,(0,l.dG)({ref:f,class:["v-tooltip",e.class],style:e.style,id:v.value},t,{modelValue:d.value,"onUpdate:modelValue":e=>d.value=e,transition:w.value,absolute:!0,location:g.value,origin:b.value,persistent:!0,role:"tooltip",activatorProps:k.value,_disableGlobalStack:!0},u),{activator:n.activator,default:function(){for(var t=arguments.length,l=new Array(t),a=0;a<t;a++)l[a]=arguments[a];return n.default?.(...l)??e.text}})})),(0,i.F)({},f)}})}}]);
//# sourceMappingURL=13.3f75dce2.js.map