"use strict";(self["webpackChunkplatform_monitors4"]=self["webpackChunkplatform_monitors4"]||[]).push([[684],{9398:function(e,t,i){i.d(t,{AV:function(){return s},Ck:function(){return a},pt:function(){return l}});var n=i(1076);const o="http://67.205.164.216:3000/api/v1";function a(e,t,i,a){return n.Z.post(`${o}/notifications/Account`,{cod_cuenta:e,cod_cliente:t,usuario:i,codigo:a})}function s(e,t,i){return n.Z.post(`${o}/massiveDiscard`,{ids:e,cod_cliente:i,cod_cuenta:t,descripcion_estado:"Descartado",estado:1})}function l(e){return n.Z.post(`${o}/addComment`,e)}},8935:function(e,t,i){i.d(t,{Z:function(){return y}});var n=i(3396),o=i(7139),a=i(7312),s=i(678);const l={class:"flex justify-center"},r={class:"flex gap-1 w-full justify-center"},c={key:0},d={key:1};function u(e,t,i,u,m,p){const v=(0,n.up)("v-data-table");return(0,n.wg)(),(0,n.j4)(v,{items:i.desserts,headers:i.listedHeaders,"sort-by":[{key:"fecha_actual",order:"desc"}],class:"text-sm table_events",search:i.search},{["item.fecha"]:(0,n.w5)((({item:e})=>[(0,n._)("span",null,(0,o.zw)(e.fecha)+" "+(0,o.zw)(e.hora),1)])),["item.prioridad"]:(0,n.w5)((({item:e})=>[(0,n._)("div",l,[(0,n._)("div",{class:(0,o.C_)(["h-5 w-5 rounded-full mr-2",{"bg-orange-300":"URGENTE"===e.prioridad,"bg-red-300":"CRITICO"===e.prioridad,"bg-blue-300":"REGULAR"===e.prioridad}])},null,2)])])),["item.evidence"]:(0,n.w5)((({item:e})=>[(0,n._)("div",r,[""==e.link_video&&""==e.link_imagen?((0,n.wg)(),(0,n.iD)("div",c,[(0,n.Wm)(a.T,{size:"x-small",icon:"mdi-video",color:"grey"}),(0,n.Wm)(s.N,{activator:"parent",location:"top"},{default:(0,n.w5)((()=>[(0,n.Uk)("No hay evidencias")])),_:1})])):((0,n.wg)(),(0,n.iD)("div",d,[(0,n.Wm)(a.T,{icon:"mdi-video",size:"x-small",color:"indigo-lighten-2",onClick:t=>u.seeEvidence(e.link_imagen,e.link_video)},null,8,["onClick"]),(0,n.Wm)(s.N,{activator:"parent",location:"top"},{default:(0,n.w5)((()=>[(0,n.Uk)("Ver evidencias")])),_:1})]))])])),_:2},1032,["items","headers","search"])}var m=i(5470),p=i(7357),v=i(2492),f=i.n(v),g={props:{search:String,desserts:Array,listedHeaders:Array},components:{VDataTable:m.y_},setup(){const e=(t,i)=>{const n=()=>{f().fire({html:`<img src="${t}" alt="" class=w-full>`,showCancelButton:!0,cancelButtonText:"Volver al menú",confirmButtonText:"Cerrar",confirmButtonColor:"#6D68B8",reverseButtons:!0}).then((n=>{n.isConfirmed||n.dismiss===f().DismissReason.cancel&&e(t,i)}))},o=()=>{f().fire({html:`\n              <div class="flex justify-center">\n                <video width="400" height="320" controls>\n                  <source src="${i}" type="video/mp4">\n                </video>\n              </div>\n              `,showCloseButton:!0,showCancelButton:!0,cancelButtonText:"Volver al menú",confirmButtonText:"Cerrar",confirmButtonColor:"#6D68B8",reverseButtons:!0}).then((n=>{n.isConfirmed||n.dismiss===f().DismissReason.cancel&&e(t,i)}))};f().fire({html:`<p class="text-xl font-bold pt-1 text-gray-500">Ver evidencias disponibles</p>\n        <div class="w-full flex justify-center">\n        <img src="${p}" alt="" class=w-[50%]>\n        </div>\n        `,showCancelButton:!0,confirmButtonText:"Ver imagen",cancelButtonText:"Ver video",reverseButtons:!0,focusConfirm:!1,confirmButtonColor:"#6D68B8",focusCancel:!1}).then((a=>{a.isConfirmed?""!==t?n():f().fire({html:'<p class="pt-4">No hay imagen disponible</p>',showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"#6D68B8",cancelButtonText:"Volver al menú",confirmButtonText:"Cerrar"}).then((n=>{n.isConfirmed||n.dismiss===f().DismissReason.cancel&&e(t,i)})):a.dismiss===f().DismissReason.cancel&&(""!==i?o():f().fire({html:'<p class="pt-4">No hay video disponible</p>',showCancelButton:!0,reverseButtons:!0,confirmButtonColor:"#6D68B8",cancelButtonText:"Volver al menú",confirmButtonText:"Cerrar"}).then((n=>{n.isConfirmed||n.dismiss===f().DismissReason.cancel&&e(t,i)})))}))};return{seeEvidence:e}}},h=i(89);const b=(0,h.Z)(g,[["render",u]]);var y=b},3684:function(e,t,i){i.r(t),i.d(t,{default:function(){return _}});var n=i(3396),o=i(5039),a=i(1888),s=i(3601),l=i(7325),r=i(165);const c=(0,n._)("h1",{class:"font-bold text-xl title_poppins pb-5"},"Eventos descartados",-1),d={class:"w-full rounded-lg bg-white shadow-md p-5"},u={class:"w-full flex justify-between pt-4"},m={class:"lg:w-[30%] pb-4 w-full"};function p(e,t,i,p,v,f){const g=(0,n.up)("SimpleEventsTableVue");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",null,[c,(0,n._)("div",d,[(0,n._)("div",u,[(0,n._)("div",m,[(0,n.Wm)(r.h,{clearable:"",color:"indigo",modelValue:p.search,"onUpdate:modelValue":t[0]||(t[0]=e=>p.search=e),"prepend-inner-icon":"mdi-magnify",label:"Buscar","hide-details":"",density:"compact",variant:"outlined"},null,8,["modelValue"])])]),(0,n.Wm)(g,{desserts:p.discardedEvents,listedHeaders:p.listedHeaders,search:p.search},null,8,["desserts","listedHeaders","search"])])]),(0,n.Wm)(s.B,{modelValue:p.dialogLoader,"onUpdate:modelValue":t[1]||(t[1]=e=>p.dialogLoader=e),scrim:!1,persistent:"",width:"auto"},{default:(0,n.w5)((()=>[(0,n.Wm)(o._,{color:"blue"},{default:(0,n.w5)((()=>[(0,n.Wm)(a.Z,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" Construyendo "),(0,n.Wm)(l.K,{indeterminate:"",color:"white",class:"mb-0"})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var v=i(9398),f=i(8935),g=i(4870),h=i(4239),b={components:{SimpleEventsTableVue:f.Z},setup(){const e=(0,g.iH)(""),t=(0,g.iH)([]),i=(0,g.iH)(!1),o=(0,g.iH)([{title:"Codigo evento",align:"start",key:"cod_evento",sortable:!0},{title:"Placa",align:"start",key:"placa",sortable:!0},{title:"Conductor",align:"start",key:"conductor",sortable:!0},{title:"Fecha evento",align:"start",key:"fecha",sortable:!0},{title:"Fecha recepción",align:"start",key:"fecha_actual",sortable:!0},{title:"Velocidad",align:"start",key:"velocidad",sortable:!0},{title:"Dirección",align:"start",key:"direccion",sortable:!0},{title:"Estado",align:"start",key:"descripcion_estado",sortable:!0},{title:"Última acción",align:"start",key:"fecha_ultima_accion",sortable:!0},{title:"Prioridad",align:"center",key:"prioridad",sortable:!0},{title:"Evidencias",align:"center",key:"evidence",sortable:!0}]);(0,n.bv)((async()=>{i.value=!0,await a(),i.value=!1}));const a=async()=>{const e=await(0,v.Ck)(h.Z.state.codcuenta,h.Z.state.codclienteAdmin,h.Z.state.username,h.Z.state.codregla);t.value=e.data.data.filter((e=>"Descartado"===e.descripcion_estado))};return setInterval((()=>{a()}),1e4),{dialogLoader:i,listedHeaders:o,discardedEvents:t,search:e}}},y=i(89);const w=(0,y.Z)(b,[["render",p]]);var _=w},7357:function(e,t,i){e.exports=i.p+"img/evidencias.648484c3.jpg"},678:function(e,t,i){i.d(t,{N:function(){return f}});var n=i(3396),o=i(5164),a=i(3185),s=i(8717),l=i(5975),r=i(4870),c=i(3766),d=i(131),u=i(1107),m=i(7514),p=i(9888);const v=(0,c.U)({id:String,text:String,...(0,d.CE)((0,o.B)({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),f=(0,u.ev)()({name:"VTooltip",props:v(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:i}=t;const c=(0,s.z)(e,"modelValue"),{scopeId:d}=(0,l.a)(),u=(0,m.sq)(),v=(0,n.Fl)((()=>e.id||`v-tooltip-${u}`)),f=(0,r.iH)(),g=(0,n.Fl)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),h=(0,n.Fl)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),b=(0,n.Fl)((()=>e.transition?e.transition:c.value?"scale-transition":"fade-transition")),y=(0,n.Fl)((()=>(0,n.dG)({"aria-describedby":v.value},e.activatorProps)));return(0,p.L)((()=>{const[t]=o.y.filterProps(e);return(0,n.Wm)(o.y,(0,n.dG)({ref:f,class:["v-tooltip",e.class],style:e.style,id:v.value},t,{modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,transition:b.value,absolute:!0,location:g.value,origin:h.value,persistent:!0,role:"tooltip",activatorProps:y.value,_disableGlobalStack:!0},d),{activator:i.activator,default:function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i.default?.(...n)??e.text}})})),(0,a.F)({},f)}})}}]);
//# sourceMappingURL=684.72a46a9e.js.map