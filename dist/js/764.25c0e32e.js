"use strict";(self["webpackChunkplatform_monitors4"]=self["webpackChunkplatform_monitors4"]||[]).push([[764],{3518:function(e,t,l){l.d(t,{bo:function(){return n},cD:function(){return c},di:function(){return i},md:function(){return r}});var a=l(1076);const o="http://67.205.164.216:3000/api/v1";function n(e,t){return a.Z.post(`${o}/allUnits`,{cod_cuenta:e,cod_cliente:t})}function i(e){return a.Z.post(`${o}/createUnits`,e)}function c(e){return a.Z.put(`${o}/editUnits`,e)}function r(e){return a.Z.post(`${o}/deleteUnits`,e)}},3512:function(e,t,l){l.d(t,{M:function(){return i},y:function(){return n}});var a=l(2492),o=l.n(a);function n(e,t,l,a){o().fire({icon:t,html:`<p class="text-lg font-semibold">${l}</p>\n          <p class="text-base">${a}</p>`,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#006cac",reverseButtons:!0}).then((t=>{t.isConfirmed&&e()}))}function i(e,t,l){o().fire({icon:"question",html:`<p class="text-lg">${t}</p>`,showCancelButton:!0,reverseButtons:!0,confirmButtonText:l,confirmButtonColor:"#3b82f6",cancelButtonText:"Cancelar"}).then((t=>{t.isConfirmed&&e()}))}},9720:function(e,t,l){l.r(t),l.d(t,{default:function(){return Y}});var a=l(3396);const o={class:"flex justify-between w-full"},n=(0,a._)("div",null,[(0,a._)("h1",{class:"font-bold text-xl title_poppins pb-5"},"Vehiculos")],-1);function i(e,t,l,i,c,r){const s=(0,a.up)("CreateVehiclesVue"),u=(0,a.up)("TableVehiclesVue"),d=(0,a.up)("EditVehiclesVue");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",null,[(0,a._)("div",o,[n,(0,a.Wm)(s,{onCreateItem:i.onCreateItem},null,8,["onCreateItem"])]),(0,a.Wm)(u,{desserts:i.listUnitsData,onEditItem:i.onEditItem,onDeleteItem:i.onDeleteItem},null,8,["desserts","onEditItem","onDeleteItem"])]),(0,a.Wm)(d,{openModal:i.editDialog,itemEdit:i.editItem,onCancelItem:t[0]||(t[0]=e=>i.editDialog=!1),onEditItem:i.onUpdateItem},null,8,["openModal","itemEdit","onEditItem"])],64)}var c=l(3518),r=l(7139),s=l(7312),u=l(7103),d=l(678);const m={class:"flex gap-1 justify-center"},p=["onClick"],v=["onClick"];function f(e,t,l,o,n,i){const c=(0,a.up)("v-data-table");return(0,a.wg)(),(0,a.j4)(c,{headers:n.headers,items:l.desserts,class:"elevation-1 text-sm rounded-lg"},{["item.status"]:(0,a.w5)((({item:e})=>[(0,a.Wm)(u.v,{color:e.status?"green":"red"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,r.zw)(e.status?"Activo":"Desactivado"),1)])),_:2},1032,["color"])])),["item.actions"]:(0,a.w5)((({item:e})=>[(0,a._)("div",m,[(0,a._)("span",{onClick:t=>o.editItem(e)},[(0,a.Wm)(s.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,a.Wm)(d.N,{activator:"parent",location:"top"},{default:(0,a.w5)((()=>[(0,a.Uk)("Editar")])),_:1})],8,p),(0,a._)("span",{onClick:t=>o.deleteItem(e)},[(0,a.Wm)(s.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,a.Wm)(d.N,{activator:"parent",location:"top"},{default:(0,a.w5)((()=>[(0,a.Uk)("Eliminar")])),_:1})],8,v)])])),_:2},1032,["headers","items"])}var g=l(5470),h={props:{desserts:Array},components:{VDataTable:g.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"Placa",align:"start",key:"placa"},{title:"Fecha creación",align:"start",key:"fecha_creacion"},{title:"Estado",align:"start",key:"status"},{title:"Acción",align:"center",key:"actions"}]}},setup(e,{emit:t}){const l=e=>{t("edit-item",{item:e})},a=e=>{t("delete-item",{item:e})};return{editItem:l,deleteItem:a}}},_=l(89);const w=(0,_.Z)(h,[["render",f]]);var b=w,y=l(5039),C=l(1888),k=l(1334),V=l(3601),W=l(8521),I=l(9234),U=l(3289),x=l(165),D=l(1328);const E=(0,a._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Crear vehículo",-1);function B(e,t,l,o,n,i){return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s.T,{size:"small",color:"blue",onClick:t[0]||(t[0]=e=>o.dialog=!0)},{default:(0,a.w5)((()=>[(0,a.Wm)(U.t,{icon:"mdi-plus"}),(0,a.Uk)(" Crear Nuevo")])),_:1}),(0,a.Wm)(V.B,{modelValue:o.dialog,"onUpdate:modelValue":t[3]||(t[3]=e=>o.dialog=e),width:"500"},{default:(0,a.w5)((()=>[(0,a.Wm)(y._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D.i,null,{default:(0,a.w5)((()=>[E])),_:1}),(0,a.Wm)(C.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.h,{variant:"outlined",label:"Placa","prepend-inner-icon":"mdi-card-bulleted",color:"indigo",modelValue:o.plate,"onUpdate:modelValue":t[1]||(t[1]=e=>o.plate=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(k.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I.C),(0,a.Wm)(s.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[2]||(t[2]=e=>o.dialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancelar ")])),_:1}),(0,a.Wm)(s.T,{color:"blue-lighten-1",variant:"tonal",onClick:o.createItem},{default:(0,a.w5)((()=>[(0,a.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var Z=l(4870),H=l(4239),S={emits:["create-item"],setup(e,{emit:t}){const l=(0,Z.iH)(!1),a=(0,Z.iH)(""),o=()=>{const e=new Date,o=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear(),c=`${o}-${n}-${i}`;t("create-item",{cod_cuenta:H.Z.state.codcuenta,cod_cliente:H.Z.state.codcliente,cod_unidad:"",fecha_creacion:c,placa:a.value,status:!0}),a.value="",l.value=!1};return{dialog:l,plate:a,createItem:o}}};const T=(0,_.Z)(S,[["render",B]]);var A=T,F=l(3104);const $=(0,a._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Editar vehículo",-1);function P(e,t,l,o,n,i){return(0,a.wg)(),(0,a.j4)(V.B,{modelValue:o.dialog,"onUpdate:modelValue":t[3]||(t[3]=e=>o.dialog=e),width:"500","onClick:outside":o.cancelItem},{default:(0,a.w5)((()=>[(0,a.Wm)(y._,null,{default:(0,a.w5)((()=>[(0,a.Wm)(D.i,null,{default:(0,a.w5)((()=>[$])),_:1}),(0,a.Wm)(C.Z,null,{default:(0,a.w5)((()=>[(0,a.Wm)(W.D,{cols:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(x.h,{variant:"outlined",label:"Placa","prepend-inner-icon":"mdi-card-bulleted",color:"indigo",modelValue:o.plate,"onUpdate:modelValue":t[0]||(t[0]=e=>o.plate=e),"hide-details":""},null,8,["modelValue"]),(0,a.Wm)(F.G,{label:"Estado",modelValue:o.estado,"onUpdate:modelValue":t[1]||(t[1]=e=>o.estado=e),color:"blue","hide-details":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,a.Wm)(k.h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(I.C),(0,a.Wm)(s.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[2]||(t[2]=e=>o.dialog=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Cancelar ")])),_:1}),(0,a.Wm)(s.T,{color:"blue-lighten-1",variant:"tonal",onClick:o.editItem},{default:(0,a.w5)((()=>[(0,a.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])}var z={props:{itemEdit:Object,openModal:Boolean},emits:["edit-item","cancel-item"],setup(e,{emit:t}){const l=(0,Z.iH)(!1),o=(0,Z.iH)(""),n=(0,Z.iH)(!1);(0,a.YP)((()=>e.openModal),(e=>{l.value=e})),(0,a.YP)((()=>e.itemEdit),(e=>{0!==Object.keys(e).length&&(o.value=e.item.placa,n.value=e.item.status)}));const i=()=>{t("edit-item",{cod_cuenta:H.Z.state.codcuenta,cod_cliente:H.Z.state.codcliente,cod_unidad:e.itemEdit.item.cod_unidad,placa:o.value,status:n.value}),o.value="",n.value=!1,c()},c=()=>{t("cancel-item")};return{dialog:l,plate:o,estado:n,editItem:i,cancelItem:c}}};const N=(0,_.Z)(z,[["render",P]]);var G=N,M=l(3512),j={components:{TableVehiclesVue:b,CreateVehiclesVue:A,EditVehiclesVue:G},setup(){const e=(0,Z.iH)([]),t=(0,Z.iH)({}),l=(0,Z.iH)(!1);(0,a.bv)((async()=>{await o()}));const o=async()=>{(0,c.bo)(H.Z.state.codcuenta,H.Z.state.codcliente).then((t=>{e.value=t.data.data[0].unidades}))},n=e=>{""!=e.placa?(0,c.di)(e).then((()=>{(0,M.y)((async()=>{await o()}),"success","Logrado","Se ha registrado el vehiculo correctamente")})).catch((()=>{(0,M.y)((()=>{}),"error","Hubo un error","No se logro registrar el vehiculo")})):(0,M.y)((()=>{}),"warning","Advertencia","Rellene todos los campos")},i=e=>{const t={placa:e.item.placa,cod_unidad:e.item.cod_unidad,cod_cuenta:H.Z.state.codcuenta,cod_cliente:H.Z.state.codcliente};(0,M.M)((async()=>{await(0,c.md)(t).then((()=>{(0,M.y)((async()=>{await o()}),"success","Logrado","Se ha eliminado el vehículo correctamente")})).catch((e=>{console.log(e),(0,M.y)((()=>{}),"error","Hubo un error","No se logro eliminar")}))}),"¿Estás seguro de eliminar este vehículo?","Aceptar")},r=e=>{t.value=e,l.value=!0},s=e=>{(0,c.cD)(e).then((()=>{(0,M.y)((async()=>{await o()}),"success","Logrado","Se ha editado el vehículo correctamente")})).catch((()=>{(0,M.y)((()=>{}),"error","Hubo un error","No se logro editar el vehículo")}))};return{listUnitsData:e,editDialog:l,editItem:t,onUpdateItem:s,onDeleteItem:i,onCreateItem:n,onEditItem:r}}};const L=(0,_.Z)(j,[["render",i]]);var Y=L},3104:function(e,t,l){l.d(t,{G:function(){return w}});var a=l(3396),o=l(8952),n=l(3289),i=l(9114),c=l(3173),r=l(6193),s=l(8969),u=l(1710),d=l(8717),m=l(4870),p=l(3766),v=l(1107),f=l(7514),g=l(9888),h=l(131);const _=(0,p.U)({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...(0,i.c)(),...(0,r.UZ)()},"VSwitch"),w=(0,v.ev)()({name:"VSwitch",inheritAttrs:!1,props:_(),emits:{"update:focused":e=>!0,"update:modelValue":()=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:l,slots:p}=t;const v=(0,d.z)(e,"indeterminate"),_=(0,d.z)(e,"modelValue"),{loaderClasses:w}=(0,u.U2)(e),{isFocused:b,focus:y,blur:C}=(0,s.K)(e),k=(0,m.iH)(),V=(0,a.Fl)((()=>"string"===typeof e.loading&&""!==e.loading?e.loading:e.color)),W=(0,f.sq)(),I=(0,a.Fl)((()=>e.id||`switch-${W}`));function U(){v.value&&(v.value=!1)}function x(e){e.stopPropagation(),e.preventDefault(),k.value?.input?.click()}return(0,g.L)((()=>{const[t,s]=(0,h.An)(l),[d,m]=i.q.filterProps(e),[f,g]=r.g5.filterProps(e);return(0,a.Wm)(i.q,(0,a.dG)({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":v.value},w.value,e.class],style:e.style},t,d,{id:I.value,focused:b.value}),{...p,default:t=>{let{id:l,messagesId:i,isDisabled:d,isReadonly:m,isValid:g}=t;return(0,a.Wm)(r.g5,(0,a.dG)({ref:k},f,{modelValue:_.value,"onUpdate:modelValue":[e=>_.value=e,U],id:l.value,"aria-describedby":i.value,type:"checkbox","aria-checked":v.value?"mixed":void 0,disabled:d.value,readonly:m.value,onFocus:y,onBlur:C},s),{...p,default:e=>{let{backgroundColorClasses:t,backgroundColorStyles:l}=e;return(0,a.Wm)("div",{class:["v-switch__track",...t.value],style:l.value,onClick:x},null)},input:t=>{let{inputNode:l,icon:i,backgroundColorClasses:r,backgroundColorStyles:s}=t;return(0,a.Wm)(a.HY,null,[l,(0,a.Wm)("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":i||e.loading},e.inset?void 0:r.value],style:e.inset?void 0:s.value},[(0,a.Wm)(o.T0,null,{default:()=>[e.loading?(0,a.Wm)(u.rD,{name:"v-switch",active:!0,color:!1===g.value?void 0:V.value},{default:e=>p.loader?p.loader(e):(0,a.Wm)(c.L,{active:e.isActive,color:e.color,indeterminate:!0,size:"16",width:"2"},null)}):i&&(0,a.Wm)(n.t,{key:i,icon:i,size:"x-small"},null)]})])])}})}})})),{}}})},678:function(e,t,l){l.d(t,{N:function(){return f}});var a=l(3396),o=l(5164),n=l(3185),i=l(8717),c=l(5975),r=l(4870),s=l(3766),u=l(131),d=l(1107),m=l(7514),p=l(9888);const v=(0,s.U)({id:String,text:String,...(0,u.CE)((0,o.B)({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),f=(0,d.ev)()({name:"VTooltip",props:v(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:l}=t;const s=(0,i.z)(e,"modelValue"),{scopeId:u}=(0,c.a)(),d=(0,m.sq)(),v=(0,a.Fl)((()=>e.id||`v-tooltip-${d}`)),f=(0,r.iH)(),g=(0,a.Fl)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),h=(0,a.Fl)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),_=(0,a.Fl)((()=>e.transition?e.transition:s.value?"scale-transition":"fade-transition")),w=(0,a.Fl)((()=>(0,a.dG)({"aria-describedby":v.value},e.activatorProps)));return(0,p.L)((()=>{const[t]=o.y.filterProps(e);return(0,a.Wm)(o.y,(0,a.dG)({ref:f,class:["v-tooltip",e.class],style:e.style,id:v.value},t,{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,transition:_.value,absolute:!0,location:g.value,origin:h.value,persistent:!0,role:"tooltip",activatorProps:w.value,_disableGlobalStack:!0},u),{activator:l.activator,default:function(){for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return l.default?.(...a)??e.text}})})),(0,n.F)({},f)}})}}]);
//# sourceMappingURL=764.25c0e32e.js.map