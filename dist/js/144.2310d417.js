"use strict";(self["webpackChunkplatform_monitors4"]=self["webpackChunkplatform_monitors4"]||[]).push([[144],{3512:function(e,t,o){o.d(t,{M:function(){return a},y:function(){return i}});var n=o(2492),l=o.n(n);function i(e,t,o,n){l().fire({icon:t,html:`<p class="text-lg font-semibold">${o}</p>\n          <p class="text-base">${n}</p>`,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#006cac",reverseButtons:!0}).then((t=>{t.isConfirmed&&e()}))}function a(e,t,o){l().fire({icon:"question",html:`<p class="text-lg">${t}</p>`,showCancelButton:!0,reverseButtons:!0,confirmButtonText:o,confirmButtonColor:"#3b82f6",cancelButtonText:"Cancelar"}).then((t=>{t.isConfirmed&&e()}))}},9626:function(e,t,o){o.r(t),o.d(t,{default:function(){return L}});var n=o(3396);const l={class:"flex justify-between w-full"},i=(0,n._)("div",null,[(0,n._)("h1",{class:"font-bold text-xl title_poppins pb-5"},"Turnos")],-1);function a(e,t,o,a,r,c){const u=(0,n.up)("CreateShiftsVue"),d=(0,n.up)("TableShiftsVue"),s=(0,n.up)("EditShiftsVue");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",null,[(0,n._)("div",l,[i,(0,n.Wm)(u,{onCreateItem:a.onCreateItem},null,8,["onCreateItem"])]),(0,n.Wm)(d,{desserts:a.listShiftsData,onEditItem:a.onEditItem},null,8,["desserts","onEditItem"])]),(0,n.Wm)(s,{openModal:a.editDialog,itemEdit:a.editItem,onCancelItem:t[0]||(t[0]=e=>a.editDialog=!1),onEditItem:a.onUpdateItem},null,8,["openModal","itemEdit","onEditItem"])],64)}var r=o(1076);const c="http://67.205.164.216:3000/api/v1";function u(e,t){return r.Z.post(`${c}/allShifts`,{cod_cuenta:e,cod_cliente:t})}function d(e){return r.Z.post(`${c}/createShifts`,e)}function s(e){return r.Z.put(`${c}/editShifts`,e)}var m=o(7312),p=o(678);const f={class:"flex gap-1 justify-center"},v=["onClick"],g=["onClick"];function h(e,t,o,l,i,a){const r=(0,n.up)("v-data-table");return(0,n.wg)(),(0,n.j4)(r,{headers:i.headers,items:o.desserts,class:"elevation-1 text-sm rounded-lg"},{["item.actions"]:(0,n.w5)((({item:e})=>[(0,n._)("div",f,[(0,n._)("span",{onClick:t=>l.editItem(e)},[(0,n.Wm)(m.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,n.Wm)(p.N,{activator:"parent",location:"top"},{default:(0,n.w5)((()=>[(0,n.Uk)("Editar")])),_:1})],8,v),(0,n._)("span",{onClick:t=>l.deleteItem(e)},[(0,n.Wm)(m.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,n.Wm)(p.N,{activator:"parent",location:"top"},{default:(0,n.w5)((()=>[(0,n.Uk)("Eliminar")])),_:1})],8,g)])])),_:2},1032,["headers","items"])}var _=o(5470),w={props:{desserts:Array},components:{VDataTable:_.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"Código",align:"start",key:"cod_turno"},{title:"Descripción",align:"start",key:"descripcion"},{title:"Desde",align:"start",key:"desde"},{title:"Hasta",align:"start",key:"hasta"},{title:"Acción",align:"center",key:"actions"}]}},setup(e,{emit:t}){const o=e=>{t("edit-item",{item:e})},n=e=>{t("delete-item",{item:e})};return{editItem:o,deleteItem:n}}},b=o(89);const k=(0,b.Z)(w,[["render",h]]);var C=k,V=o(5039),y=o(1888),W=o(1334),H=o(3601),I=o(8521),x=o(9234),U=o(3289),S=o(165),E=o(1328);const D=(0,n._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Crear turno",-1);function T(e,t,o,l,i,a){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(m.T,{size:"small",color:"blue",onClick:t[0]||(t[0]=e=>l.dialog=!0)},{default:(0,n.w5)((()=>[(0,n.Wm)(U.t,{icon:"mdi-plus"}),(0,n.Uk)(" Crear Nuevo")])),_:1}),(0,n.Wm)(H.B,{modelValue:l.dialog,"onUpdate:modelValue":t[5]||(t[5]=e=>l.dialog=e),width:"500"},{default:(0,n.w5)((()=>[(0,n.Wm)(V._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(E.i,null,{default:(0,n.w5)((()=>[D])),_:1}),(0,n.Wm)(y.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(S.h,{variant:"outlined",label:"Descripción","prepend-inner-icon":"mdi-text-box-check-outline",color:"indigo",modelValue:l.description,"onUpdate:modelValue":t[1]||(t[1]=e=>l.description=e)},null,8,["modelValue"]),(0,n.Wm)(S.h,{variant:"outlined",label:"Desde","prepend-inner-icon":"mdi-account-clock",color:"indigo",modelValue:l.fromHour,"onUpdate:modelValue":t[2]||(t[2]=e=>l.fromHour=e),type:"time"},null,8,["modelValue"]),(0,n.Wm)(S.h,{variant:"outlined",label:"Hasta","prepend-inner-icon":"mdi-account-clock",color:"indigo",modelValue:l.toHour,"onUpdate:modelValue":t[3]||(t[3]=e=>l.toHour=e),type:"time"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x.C),(0,n.Wm)(m.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[4]||(t[4]=e=>l.dialog=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancelar ")])),_:1}),(0,n.Wm)(m.T,{color:"blue-lighten-1",variant:"tonal",onClick:l.createItem},{default:(0,n.w5)((()=>[(0,n.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var Z=o(4870),B=o(4239),A={emits:["create-item"],setup(e,{emit:t}){const o=(0,Z.iH)(!1),n=(0,Z.iH)(""),l=(0,Z.iH)(""),i=(0,Z.iH)(""),a=()=>{t("create-item",{cod_cuenta:B.Z.state.codcuenta,cod_cliente:B.Z.state.codcliente,cod_turno:"",descripcion:n.value,desde:l.value,hasta:i.value}),n.value=l.value=i.value="",o.value=!1};return{dialog:o,description:n,fromHour:l,toHour:i,createItem:a}}};const $=(0,b.Z)(A,[["render",T]]);var j=$;const F=(0,n._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Editar turno",-1);function N(e,t,o,l,i,a){return(0,n.wg)(),(0,n.j4)(H.B,{modelValue:l.dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>l.dialog=e),width:"500","onClick:outside":l.cancelItem},{default:(0,n.w5)((()=>[(0,n.Wm)(V._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(E.i,null,{default:(0,n.w5)((()=>[F])),_:1}),(0,n.Wm)(y.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(S.h,{variant:"outlined",label:"Descripción","prepend-inner-icon":"mdi-text-box-check-outline",color:"indigo",modelValue:l.description,"onUpdate:modelValue":t[0]||(t[0]=e=>l.description=e)},null,8,["modelValue"]),(0,n.Wm)(S.h,{variant:"outlined",label:"Desde","prepend-inner-icon":"mdi-account-clock",color:"indigo",modelValue:l.fromHour,"onUpdate:modelValue":t[1]||(t[1]=e=>l.fromHour=e),type:"time"},null,8,["modelValue"]),(0,n.Wm)(S.h,{variant:"outlined",label:"Hasta","prepend-inner-icon":"mdi-account-clock",color:"indigo",modelValue:l.toHour,"onUpdate:modelValue":t[2]||(t[2]=e=>l.toHour=e),type:"time"},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(W.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(x.C),(0,n.Wm)(m.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[3]||(t[3]=e=>l.dialog=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancelar ")])),_:1}),(0,n.Wm)(m.T,{color:"blue-lighten-1",variant:"tonal",onClick:l.editItem},{default:(0,n.w5)((()=>[(0,n.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])}var M={props:{itemEdit:Object,openModal:Boolean},emits:["edit-item","cancel-item"],setup(e,{emit:t}){const o=(0,Z.iH)(!1),l=(0,Z.iH)(""),i=(0,Z.iH)(""),a=(0,Z.iH)("");(0,n.YP)((()=>e.openModal),(e=>{o.value=e})),(0,n.YP)((()=>e.itemEdit),(e=>{0!==Object.keys(e).length&&(l.value=e.item.descripcion,i.value=e.item.desde,a.value=e.item.hasta)}));const r=()=>{t("edit-item",{cod_cuenta:B.Z.state.codcuenta,cod_cliente:B.Z.state.codcliente,cod_turno:e.itemEdit.item.cod_turno,descripcion:l.value,desde:i.value,hasta:a.value}),l.value=i.value=a.value="",c()},c=()=>{t("cancel-item")};return{dialog:o,description:l,fromHour:i,toHour:a,editItem:r,cancelItem:c}}};const O=(0,b.Z)(M,[["render",N]]);var P=O,z=o(3512),Y={components:{TableShiftsVue:C,CreateShiftsVue:j,EditShiftsVue:P},setup(){const e=(0,Z.iH)([]),t=(0,Z.iH)({}),o=(0,Z.iH)(!1);(0,n.bv)((async()=>{await l()}));const l=async()=>{u(B.Z.state.codcuenta,B.Z.state.codcliente).then((t=>{e.value=t.data.data[0].turnos}))},i=e=>{""!=e.descripcion&&""!=e.desde&&""!=e.hasta?d(e).then((()=>{(0,z.y)((async()=>{await l()}),"success","Logrado","Se ha creado el turno correctamente")})).catch((()=>{(0,z.y)((()=>{}),"error","Hubo un error","No se logro crear el turno")})):(0,z.y)((()=>{}),"warning","Advertencia","Rellene todos los campos")},a=e=>{t.value=e,o.value=!0},r=e=>{s(e).then((()=>{(0,z.y)((async()=>{await l()}),"success","Logrado","Se ha editado el turno correctamente")})).catch((()=>{(0,z.y)((()=>{}),"error","Hubo un error","No se logro editar el turno")}))};return{listShiftsData:e,editDialog:o,editItem:t,onUpdateItem:r,onCreateItem:i,onEditItem:a}}};const G=(0,b.Z)(Y,[["render",a]]);var L=G},678:function(e,t,o){o.d(t,{N:function(){return v}});var n=o(3396),l=o(5164),i=o(3185),a=o(8717),r=o(5975),c=o(4870),u=o(3766),d=o(131),s=o(1107),m=o(7514),p=o(9888);const f=(0,u.U)({id:String,text:String,...(0,d.CE)((0,l.B)({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),v=(0,s.ev)()({name:"VTooltip",props:f(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const u=(0,a.z)(e,"modelValue"),{scopeId:d}=(0,r.a)(),s=(0,m.sq)(),f=(0,n.Fl)((()=>e.id||`v-tooltip-${s}`)),v=(0,c.iH)(),g=(0,n.Fl)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),h=(0,n.Fl)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),_=(0,n.Fl)((()=>e.transition?e.transition:u.value?"scale-transition":"fade-transition")),w=(0,n.Fl)((()=>(0,n.dG)({"aria-describedby":f.value},e.activatorProps)));return(0,p.L)((()=>{const[t]=l.y.filterProps(e);return(0,n.Wm)(l.y,(0,n.dG)({ref:v,class:["v-tooltip",e.class],style:e.style,id:f.value},t,{modelValue:u.value,"onUpdate:modelValue":e=>u.value=e,transition:_.value,absolute:!0,location:g.value,origin:h.value,persistent:!0,role:"tooltip",activatorProps:w.value,_disableGlobalStack:!0},d),{activator:o.activator,default:function(){for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return o.default?.(...n)??e.text}})})),(0,i.F)({},v)}})}}]);
//# sourceMappingURL=144.2310d417.js.map