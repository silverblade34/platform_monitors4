"use strict";(self["webpackChunkplatform_monitors4"]=self["webpackChunkplatform_monitors4"]||[]).push([[274],{6528:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var l=a(3396);const i={class:"flex justify-between w-full"},n=(0,l._)("div",null,[(0,l._)("h1",{class:"font-bold text-xl title_poppins pb-5"},"Respuestas predefinidas")],-1);function o(e,t,a,o,d,r){const s=(0,l.up)("CreateAnswersVue"),c=(0,l.up)("TableAnswersVue"),u=(0,l.up)("EditAnswersVue");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",null,[(0,l._)("div",i,[n,(0,l.Wm)(s,{onCreateItem:o.onCreateItem},null,8,["onCreateItem"])]),(0,l.Wm)(c,{desserts:o.listAnswersData,onDeleteItem:o.onDeleteItem,onEditItem:o.onEditItem},null,8,["desserts","onDeleteItem","onEditItem"])]),(0,l.Wm)(u,{openModal:o.editDialog,itemEdit:o.editItem,onCancelItem:t[0]||(t[0]=e=>o.editDialog=!1),onEditItem:o.onUpdateItem},null,8,["openModal","itemEdit","onEditItem"])],64)}var d=a(6418),r=a(7312),s=a(678);const c={class:"flex gap-1 justify-center"},u=["onClick"],m=["onClick"];function p(e,t,a,i,n,o){const d=(0,l.up)("v-data-table");return(0,l.wg)(),(0,l.j4)(d,{headers:n.headers,items:a.desserts,class:"elevation-1 text-sm rounded-lg"},{["item.actions"]:(0,l.w5)((({item:e})=>[(0,l._)("div",c,[(0,l._)("span",{onClick:t=>i.editItem(e)},[(0,l.Wm)(r.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,l.Wm)(s.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Editar")])),_:1})],8,u),(0,l._)("span",{onClick:t=>i.deleteItem(e)},[(0,l.Wm)(r.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,l.Wm)(s.N,{activator:"parent",location:"top"},{default:(0,l.w5)((()=>[(0,l.Uk)("Eliminar")])),_:1})],8,m)])])),_:2},1032,["headers","items"])}var g=a(5470),v={props:{desserts:Array},components:{VDataTable:g.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"Código",align:"start",key:"codigo"},{title:"Sigla",align:"start",key:"sigla"},{title:"Texto",align:"start",key:"text"},{title:"Acción",key:"actions",align:"center"}]}},setup(e,{emit:t}){const a=e=>{t("edit-item",{item:e})},l=e=>{t("delete-item",{item:e})};return{editItem:a,deleteItem:l}}},w=a(89);const f=(0,w.Z)(v,[["render",p]]);var _=f,h=a(11),b=a(1888),k=a(1334),x=a(3601),C=a(8521),W=a(9234),I=a(3289),y=a(165),V=a(4842),A=a(1328);const E=(0,l._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Crear respuesta predefinida",-1);function U(e,t,a,i,n,o){return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(r.T,{size:"small",color:"blue",onClick:t[0]||(t[0]=e=>i.dialog=!0)},{default:(0,l.w5)((()=>[(0,l.Wm)(I.t,{icon:"mdi-plus"}),(0,l.Uk)(" Crear Nuevo")])),_:1}),(0,l.Wm)(x.B,{modelValue:i.dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>i.dialog=e),width:"500"},{default:(0,l.w5)((()=>[(0,l.Wm)(h._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(A.i,null,{default:(0,l.w5)((()=>[E])),_:1}),(0,l.Wm)(b.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(y.h,{variant:"outlined",label:"Sigla","prepend-inner-icon":"mdi-alphabetical-variant",color:"indigo",modelValue:i.sigla,"onUpdate:modelValue":t[1]||(t[1]=e=>i.sigla=e)},null,8,["modelValue"]),(0,l.Wm)(V.z,{variant:"outlined",label:"Texto","prepend-inner-icon":"mdi-text-box-check-outline",color:"indigo",modelValue:i.text,"onUpdate:modelValue":t[2]||(t[2]=e=>i.text=e),rows:"3"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W.C),(0,l.Wm)(r.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[3]||(t[3]=e=>i.dialog=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancelar ")])),_:1}),(0,l.Wm)(r.T,{color:"blue-lighten-1",variant:"tonal",onClick:i.createItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var D=a(4870),H=a(4239),T={emits:["create-item"],setup(e,{emit:t}){const a=(0,D.iH)(!1),l=(0,D.iH)(""),i=(0,D.iH)(""),n=()=>{t("create-item",{cod_cuenta:H.Z.state.codcuenta,cod_cliente:H.Z.state.codclienteAdmin,sigla:l.value,text:i.value}),l.value=i.value="",a.value=!1};return{dialog:a,sigla:l,text:i,createItem:n}}};const Z=(0,w.Z)(T,[["render",U]]);var j=Z;const N=(0,l._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Editar respuesta predefinida",-1);function S(e,t,a,i,n,o){return(0,l.wg)(),(0,l.j4)(x.B,{modelValue:i.dialog,"onUpdate:modelValue":t[3]||(t[3]=e=>i.dialog=e),width:"500","onClick:outside":i.cancelItem},{default:(0,l.w5)((()=>[(0,l.Wm)(h._,null,{default:(0,l.w5)((()=>[(0,l.Wm)(A.i,null,{default:(0,l.w5)((()=>[N])),_:1}),(0,l.Wm)(b.Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(C.D,{cols:"12"},{default:(0,l.w5)((()=>[(0,l.Wm)(y.h,{variant:"outlined",label:"Sigla","prepend-inner-icon":"mdi-alphabetical-variant",color:"indigo",modelValue:i.sigla,"onUpdate:modelValue":t[0]||(t[0]=e=>i.sigla=e)},null,8,["modelValue"]),(0,l.Wm)(V.z,{variant:"outlined",label:"Texto","prepend-inner-icon":"mdi-text-box-check-outline",color:"indigo",modelValue:i.text,"onUpdate:modelValue":t[1]||(t[1]=e=>i.text=e),rows:"3"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(k.h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(W.C),(0,l.Wm)(r.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[2]||(t[2]=e=>i.dialog=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Cancelar ")])),_:1}),(0,l.Wm)(r.T,{color:"blue-lighten-1",variant:"tonal",onClick:i.editItem},{default:(0,l.w5)((()=>[(0,l.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])}var z={props:{itemEdit:Object,openModal:Boolean},emits:["edit-item","cancel-item"],setup(e,{emit:t}){const a=(0,D.iH)(!1),i=(0,D.iH)(""),n=(0,D.iH)("");(0,l.YP)((()=>e.openModal),(e=>{a.value=e})),(0,l.YP)((()=>e.itemEdit),(e=>{0!==Object.keys(e).length&&(i.value=e.item.sigla,n.value=e.item.text)}));const o=()=>{t("edit-item",{cod_cuenta:H.Z.state.codcuenta,cod_cliente:H.Z.state.codclienteAdmin,codigo:e.itemEdit.item.codigo,sigla:i.value,text:n.value}),i.value=n.value="",d()},d=()=>{t("cancel-item")};return{dialog:a,sigla:i,text:n,editItem:o,cancelItem:d}}};const M=(0,w.Z)(z,[["render",S]]);var Y=M,B=a(3512),L={components:{TableAnswersVue:_,CreateAnswersVue:j,EditAnswersVue:Y},setup(){const e=(0,D.iH)([]),t=(0,D.iH)({}),a=(0,D.iH)(!1);(0,l.bv)((async()=>{await i()}));const i=async()=>{(0,d.nl)(H.Z.state.codclienteAdmin).then((t=>{e.value=t.data.data[0].respuestas}))},n=e=>{""!=e.sigla&&""!=e.text?(0,d.mU)(e).then((()=>{(0,B.y)((async()=>{await i()}),"success","Logrado","Se ha creado la respuesta predefinida correctamente")})).catch((()=>{(0,B.y)((()=>{}),"error","Hubo un error","No se logro crear el evento")})):(0,B.y)((()=>{}),"warning","Advertencia","Rellene todos los campos")},o=e=>{const t={codigo:e.item.codigo,cod_cuenta:H.Z.state.codcuenta,cod_cliente:H.Z.state.codclienteAdmin};(0,B.M)((async()=>{await(0,d.E4)(t).then((()=>{(0,B.y)((async()=>{await i()}),"success","Logrado","Se ha eliminado la respuesta predefinida correctamente")})).catch((e=>{console.log(e),(0,B.y)((()=>{}),"error","Hubo un error","No se logro eliminar")}))}),"¿Estás seguro de eliminar esta respuesta predefinida?","Aceptar")},r=e=>{t.value=e,a.value=!0},s=e=>{(0,d.Cf)(e).then((()=>{(0,B.y)((async()=>{await i()}),"success","Logrado","Se ha editado la respuesta predefinida correctamente")})).catch((()=>{(0,B.y)((()=>{}),"error","Hubo un error","No se logro editar la respuesta predifinida")}))};return{listAnswersData:e,editDialog:a,editItem:t,onUpdateItem:s,onDeleteItem:o,onCreateItem:n,onEditItem:r}}};const O=(0,w.Z)(L,[["render",o]]);var P=O}}]);
//# sourceMappingURL=274.7c5f99dc.js.map