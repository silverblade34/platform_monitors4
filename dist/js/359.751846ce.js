"use strict";(self["webpackChunkplatform_monitors4"]=self["webpackChunkplatform_monitors4"]||[]).push([[359],{5911:function(e,t,o){o.d(t,{WY:function(){return d},kQ:function(){return a},qW:function(){return i},v6:function(){return r}});var n=o(1076);const l="http://67.205.164.216:3000/api/v1";function a(e,t){return n.Z.post(`${l}/allEvents`,{cod_cuenta:e,cod_cliente:t})}function i(e){return n.Z.post(`${l}/createEvents`,e)}function r(e){return n.Z.post(`${l}/deleteEvents`,e)}function d(e){return n.Z.put(`${l}/editEvents`,e)}},3512:function(e,t,o){o.d(t,{M:function(){return i},y:function(){return a}});var n=o(2492),l=o.n(n);function a(e,t,o,n){l().fire({icon:t,html:`<p class="text-lg font-semibold">${o}</p>\n          <p class="text-base">${n}</p>`,showCancelButton:!1,confirmButtonText:"Aceptar",confirmButtonColor:"#006cac",reverseButtons:!0}).then((t=>{t.isConfirmed&&e()}))}function i(e,t,o){l().fire({icon:"question",html:`<p class="text-lg">${t}</p>`,showCancelButton:!0,reverseButtons:!0,confirmButtonText:o,confirmButtonColor:"#3b82f6",cancelButtonText:"Cancelar"}).then((t=>{t.isConfirmed&&e()}))}},7694:function(e,t,o){o.r(t),o.d(t,{default:function(){return M}});var n=o(3396);const l={class:"flex justify-between w-full"},a=(0,n._)("div",null,[(0,n._)("h1",{class:"font-bold text-xl title_poppins pb-5"},"Tipo de eventos")],-1);function i(e,t,o,i,r,d){const c=(0,n.up)("CreateEventsVue"),s=(0,n.up)("TableEventsVue"),u=(0,n.up)("EditEventsVue");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",null,[(0,n._)("div",l,[a,(0,n.Wm)(c,{onCreateItem:i.onCreateItem},null,8,["onCreateItem"])]),(0,n.Wm)(s,{desserts:i.listEventsData,onDeleteItem:i.onDeleteItem,onEditItem:i.onEditItem},null,8,["desserts","onDeleteItem","onEditItem"])]),(0,n.Wm)(u,{openModal:i.editDialog,itemEdit:i.editEvent,onCancelItem:t[0]||(t[0]=e=>i.editDialog=!1),onEditItem:i.onUpdateItem},null,8,["openModal","itemEdit","onEditItem"])],64)}var r=o(5911),d=o(7312),c=o(5039),s=o(1888),u=o(1334),m=o(3601),v=o(8521),p=o(9234),f=o(3289),g=o(240),h=o(165),_=o(1328);const w=(0,n._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Crear tipo de evento",-1);function b(e,t,o,l,a,i){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(d.T,{size:"small",color:"blue",onClick:t[0]||(t[0]=e=>l.dialog=!0)},{default:(0,n.w5)((()=>[(0,n.Wm)(f.t,{icon:"mdi-plus"}),(0,n.Uk)(" Crear Nuevo")])),_:1}),(0,n.Wm)(m.B,{modelValue:l.dialog,"onUpdate:modelValue":t[5]||(t[5]=e=>l.dialog=e),width:"500"},{default:(0,n.w5)((()=>[(0,n.Wm)(c._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_.i,null,{default:(0,n.w5)((()=>[w])),_:1}),(0,n.Wm)(s.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(h.h,{variant:"outlined",label:"Codigo de evento","prepend-inner-icon":"mdi-qrcode",color:"indigo",modelValue:l.cod_evento,"onUpdate:modelValue":t[1]||(t[1]=e=>l.cod_evento=e)},null,8,["modelValue"]),(0,n.Wm)(h.h,{variant:"outlined",label:"Descripción","prepend-inner-icon":"mdi-text-box",color:"indigo",modelValue:l.descripcion,"onUpdate:modelValue":t[2]||(t[2]=e=>l.descripcion=e)},null,8,["modelValue"]),(0,n.Wm)(g.rL,{"prepend-inner-icon":"mdi-priority-high",label:"Prioridad",items:["REGULAR","URGENTE","CRITICO"],variant:"outlined",class:"col-span-2",color:"indigo",modelValue:l.prioridad,"onUpdate:modelValue":t[3]||(t[3]=e=>l.prioridad=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(u.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p.C),(0,n.Wm)(d.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:t[4]||(t[4]=e=>l.dialog=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancelar ")])),_:1}),(0,n.Wm)(d.T,{color:"blue-lighten-1",variant:"tonal",onClick:l.createItem},{default:(0,n.w5)((()=>[(0,n.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var C=o(4870),y={emits:["create-item"],setup(e,{emit:t}){const o=(0,C.iH)(!1),n=(0,C.iH)(""),l=(0,C.iH)(""),a=(0,C.iH)(""),i=()=>{t("create-item",{cod_evento:n.value,descripcion:l.value,prioridad:a.value}),n.value=l.value=a.value="",o.value=!1};return{dialog:o,cod_evento:n,descripcion:l,prioridad:a,createItem:i}}},W=o(89);const k=(0,W.Z)(y,[["render",b]]);var V=k,E=o(3104);const I=(0,n._)("span",{class:"px-4 w-full text-center text-blue-400 font-bold title_views"},"Editar tipo de evento",-1);function U(e,t,o,l,a,i){return(0,n.wg)(),(0,n.j4)(m.B,{modelValue:l.dialog,"onUpdate:modelValue":t[4]||(t[4]=e=>l.dialog=e),width:"500","onClick:outside":l.cancelItem},{default:(0,n.w5)((()=>[(0,n.Wm)(c._,null,{default:(0,n.w5)((()=>[(0,n.Wm)(_.i,null,{default:(0,n.w5)((()=>[I])),_:1}),(0,n.Wm)(s.Z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(v.D,{cols:"12"},{default:(0,n.w5)((()=>[(0,n.Wm)(h.h,{variant:"outlined",label:"Codigo de evento","prepend-inner-icon":"mdi-qrcode",color:"indigo",modelValue:l.cod_evento,"onUpdate:modelValue":t[0]||(t[0]=e=>l.cod_evento=e),disabled:""},null,8,["modelValue"]),(0,n.Wm)(h.h,{variant:"outlined",label:"Descripción","prepend-inner-icon":"mdi-text-box",color:"indigo",modelValue:l.descripcion,"onUpdate:modelValue":t[1]||(t[1]=e=>l.descripcion=e)},null,8,["modelValue"]),(0,n.Wm)(g.rL,{"prepend-inner-icon":"mdi-priority-high",label:"Prioridad",items:["REGULAR","URGENTE","CRITICO"],variant:"outlined",class:"col-span-2",color:"indigo",modelValue:l.prioridad,"onUpdate:modelValue":t[2]||(t[2]=e=>l.prioridad=e),"hide-details":""},null,8,["modelValue"]),(0,n.Wm)(E.G,{label:"Estado",modelValue:l.estado,"onUpdate:modelValue":t[3]||(t[3]=e=>l.estado=e),color:"blue","hide-details":""},null,8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(u.h,null,{default:(0,n.w5)((()=>[(0,n.Wm)(p.C),(0,n.Wm)(d.T,{color:"blue-grey-lighten-2",variant:"tonal",onClick:l.cancelItem},{default:(0,n.w5)((()=>[(0,n.Uk)(" Cancelar ")])),_:1},8,["onClick"]),(0,n.Wm)(d.T,{color:"blue-lighten-1",variant:"tonal",onClick:l.editItem},{default:(0,n.w5)((()=>[(0,n.Uk)(" Aceptar ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue","onClick:outside"])}var x=o(4239),D={props:{itemEdit:Object,openModal:Boolean},emits:["edit-item","cancel-item"],setup(e,{emit:t}){const o=(0,C.iH)(!1),l=(0,C.iH)(""),a=(0,C.iH)(""),i=(0,C.iH)(""),r=(0,C.iH)(!1);(0,n.YP)((()=>e.openModal),(e=>{o.value=e})),(0,n.YP)((()=>e.itemEdit),(e=>{0!==Object.keys(e).length&&(l.value=e.item.cod_evento,a.value=e.item.descripcion,i.value=e.item.prioridad,r.value=e.item.status)}));const d=()=>{t("edit-item",{cod_cuenta:x.Z.state.codcuenta,cod_cliente:x.Z.state.codcliente,cod_evento:l.value,descripcion:a.value,fecha_creacion:e.itemEdit.item.fecha_creacion,prioridad:i.value,usuario:x.Z.state.username,status:r.value}),l.value=a.value=i.value="",r.value=!1,c()},c=()=>{t("cancel-item")};return{dialog:o,cod_evento:l,descripcion:a,prioridad:i,estado:r,editItem:d,cancelItem:c}}};const H=(0,W.Z)(D,[["render",U]]);var T=H,Z=o(7139),B=o(7103),S=o(678);const A={class:"flex gap-1 justify-center"},F=["onClick"],$=["onClick"];function G(e,t,o,l,a,i){const r=(0,n.up)("v-data-table");return(0,n.wg)(),(0,n.j4)(r,{headers:a.headers,items:o.desserts,class:"elevation-1 text-sm rounded-lg"},{["item.status"]:(0,n.w5)((({item:e})=>[(0,n.Wm)(B.v,{color:e.status?"green":"red"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,Z.zw)(e.status?"Activo":"Desactivado"),1)])),_:2},1032,["color"])])),["item.actions"]:(0,n.w5)((({item:e})=>[(0,n._)("div",A,[(0,n._)("span",{onClick:t=>l.editItem(e)},[(0,n.Wm)(d.T,{icon:"mdi-pencil",size:"small",variant:"text",color:"green"}),(0,n.Wm)(S.N,{activator:"parent",location:"top"},{default:(0,n.w5)((()=>[(0,n.Uk)("Editar")])),_:1})],8,F),(0,n._)("span",{onClick:t=>l.deleteItem(e)},[(0,n.Wm)(d.T,{icon:"mdi-delete-empty",size:"small",variant:"text",color:"red"}),(0,n.Wm)(S.N,{activator:"parent",location:"top"},{default:(0,n.w5)((()=>[(0,n.Uk)("Eliminar")])),_:1})],8,$)])])),_:2},1032,["headers","items"])}var P=o(5470),L={props:{desserts:Array},components:{VDataTable:P.y_},emits:["delete-item","edit-item"],data(){return{headers:[{title:"Código",align:"start",key:"cod_evento"},{title:"Descripción",align:"start",key:"descripcion"},{title:"Prioridad",align:"start",key:"prioridad"},{title:"Fecha creación",align:"start",key:"fecha_creacion"},{title:"Estado",align:"center",key:"status"},{title:"Acciones",key:"actions",align:"center"}]}},setup(e,{emit:t}){const o=e=>{t("edit-item",{item:e})},n=e=>{t("delete-item",{item:e})};return{editItem:o,deleteItem:n}}};const N=(0,W.Z)(L,[["render",G]]);var R=N,q=o(3512),z={components:{CreateEventsVue:V,TableEventsVue:R,EditEventsVue:T},setup(){const e=(0,C.iH)([]),t=(0,C.iH)({}),o=(0,C.iH)(!1);(0,n.bv)((async()=>{await l()}));const l=async()=>{await(0,r.kQ)(x.Z.state.codcuenta,x.Z.state.codcliente).then((t=>{e.value=t.data.data?t.data.data[0].eventos:[]}))},a=()=>{const e=new Date,t=String(e.getDate()).padStart(2,"0"),o=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear(),l=`${t}-${o}-${n}`;return l},i=e=>{""!=e.cod_evento&&""!=e.descripcion&&""!=e.prioridad?(e.cod_cliente=x.Z.state.codcliente,e.cod_cuenta=x.Z.state.codcuenta,e.usuario=x.Z.state.username,e.status=!0,e.fecha_creacion=a(),(0,r.qW)(e).then((()=>{(0,q.y)((async()=>{await l()}),"success","Logrado","Se ha creado el evento correctamente")})).catch((()=>{(0,q.y)((()=>{}),"error","Hubo un error","No se logro crear el evento")}))):(0,q.y)((()=>{}),"warning","Advertencia","Rellene todos los campos")},d=e=>{t.value=e,o.value=!0},c=e=>{(0,r.WY)(e).then((()=>{(0,q.y)((async()=>{await l()}),"success","Logrado","Se ha editado el evento correctamente")})).catch((()=>{(0,q.y)((()=>{}),"error","Hubo un error","No se logro editar el evento")}))},s=e=>{const t={cod_evento:e.item.cod_evento,cod_cuenta:x.Z.state.codcuenta,cod_cliente:x.Z.state.codcliente};(0,q.M)((async()=>{await(0,r.v6)(t).then((()=>{(0,q.y)((async()=>{await l()}),"success","Logrado","Se ha eliminado el evento correctamente")})).catch((()=>{(0,q.y)((()=>{}),"error","Hubo un error","No se logro eliminar el evento")}))}),"¿Estás seguro de eliminar este evento?","Aceptar")};return{onCreateItem:i,onUpdateItem:c,onDeleteItem:s,onEditItem:d,editEvent:t,editDialog:o,listEventsData:e}}};const Y=(0,W.Z)(z,[["render",i]]);var M=Y},3104:function(e,t,o){o.d(t,{G:function(){return w}});var n=o(3396),l=o(8952),a=o(3289),i=o(9114),r=o(3173),d=o(6193),c=o(8969),s=o(1710),u=o(8717),m=o(4870),v=o(3766),p=o(1107),f=o(7514),g=o(9888),h=o(131);const _=(0,v.U)({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...(0,i.c)(),...(0,d.UZ)()},"VSwitch"),w=(0,p.ev)()({name:"VSwitch",inheritAttrs:!1,props:_(),emits:{"update:focused":e=>!0,"update:modelValue":()=>!0,"update:indeterminate":e=>!0},setup(e,t){let{attrs:o,slots:v}=t;const p=(0,u.z)(e,"indeterminate"),_=(0,u.z)(e,"modelValue"),{loaderClasses:w}=(0,s.U2)(e),{isFocused:b,focus:C,blur:y}=(0,c.K)(e),W=(0,m.iH)(),k=(0,n.Fl)((()=>"string"===typeof e.loading&&""!==e.loading?e.loading:e.color)),V=(0,f.sq)(),E=(0,n.Fl)((()=>e.id||`switch-${V}`));function I(){p.value&&(p.value=!1)}function U(e){e.stopPropagation(),e.preventDefault(),W.value?.input?.click()}return(0,g.L)((()=>{const[t,c]=(0,h.An)(o),[u,m]=i.q.filterProps(e),[f,g]=d.g5.filterProps(e);return(0,n.Wm)(i.q,(0,n.dG)({class:["v-switch",{"v-switch--inset":e.inset},{"v-switch--indeterminate":p.value},w.value,e.class],style:e.style},t,u,{id:E.value,focused:b.value}),{...v,default:t=>{let{id:o,messagesId:i,isDisabled:u,isReadonly:m,isValid:g}=t;return(0,n.Wm)(d.g5,(0,n.dG)({ref:W},f,{modelValue:_.value,"onUpdate:modelValue":[e=>_.value=e,I],id:o.value,"aria-describedby":i.value,type:"checkbox","aria-checked":p.value?"mixed":void 0,disabled:u.value,readonly:m.value,onFocus:C,onBlur:y},c),{...v,default:e=>{let{backgroundColorClasses:t,backgroundColorStyles:o}=e;return(0,n.Wm)("div",{class:["v-switch__track",...t.value],style:o.value,onClick:U},null)},input:t=>{let{inputNode:o,icon:i,backgroundColorClasses:d,backgroundColorStyles:c}=t;return(0,n.Wm)(n.HY,null,[o,(0,n.Wm)("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":i||e.loading},e.inset?void 0:d.value],style:e.inset?void 0:c.value},[(0,n.Wm)(l.T0,null,{default:()=>[e.loading?(0,n.Wm)(s.rD,{name:"v-switch",active:!0,color:!1===g.value?void 0:k.value},{default:e=>v.loader?v.loader(e):(0,n.Wm)(r.L,{active:e.isActive,color:e.color,indeterminate:!0,size:"16",width:"2"},null)}):i&&(0,n.Wm)(a.t,{key:i,icon:i,size:"x-small"},null)]})])])}})}})})),{}}})},678:function(e,t,o){o.d(t,{N:function(){return f}});var n=o(3396),l=o(5164),a=o(3185),i=o(8717),r=o(5975),d=o(4870),c=o(3766),s=o(131),u=o(1107),m=o(7514),v=o(9888);const p=(0,c.U)({id:String,text:String,...(0,s.CE)((0,l.B)({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),f=(0,u.ev)()({name:"VTooltip",props:p(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:o}=t;const c=(0,i.z)(e,"modelValue"),{scopeId:s}=(0,r.a)(),u=(0,m.sq)(),p=(0,n.Fl)((()=>e.id||`v-tooltip-${u}`)),f=(0,d.iH)(),g=(0,n.Fl)((()=>e.location.split(" ").length>1?e.location:e.location+" center")),h=(0,n.Fl)((()=>"auto"===e.origin||"overlap"===e.origin||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center")),_=(0,n.Fl)((()=>e.transition?e.transition:c.value?"scale-transition":"fade-transition")),w=(0,n.Fl)((()=>(0,n.dG)({"aria-describedby":p.value},e.activatorProps)));return(0,v.L)((()=>{const[t]=l.y.filterProps(e);return(0,n.Wm)(l.y,(0,n.dG)({ref:f,class:["v-tooltip",e.class],style:e.style,id:p.value},t,{modelValue:c.value,"onUpdate:modelValue":e=>c.value=e,transition:_.value,absolute:!0,location:g.value,origin:h.value,persistent:!0,role:"tooltip",activatorProps:w.value,_disableGlobalStack:!0},s),{activator:o.activator,default:function(){for(var t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return o.default?.(...n)??e.text}})})),(0,a.F)({},f)}})}}]);
//# sourceMappingURL=359.751846ce.js.map